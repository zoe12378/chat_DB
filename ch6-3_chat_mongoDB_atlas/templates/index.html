<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LINE風格聊天室（NO_SQL資料庫）</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Highlight.js（淺色 github 主題）-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/github.min.css" />
   <!-- css檔案 -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
  <div class="chat-container">
    <div class="chat-header">
      <div class="chat-header-left">
        <img src="https://fastly.picsum.photos/id/56/2880/1920.jpg?hmac=BIplhYgNZ9bsjPXYhD0xx6M1yPgmg4HtthKkCeJp6Fk" alt="avatar" />
        <div>
          <h5 class="mb-0">WebSocket 聊天室（NO_SQL資料庫）</h5>
          <small id="user-count"><span class="bi bi-person-fill me-1"></span>線上人數: <span id="online-count">0</span></small>
        </div>
      </div>
      <div>
        <button class="btn btn-sm text-white me-2" id="change-name-btn" title="修改名稱"><i class="bi bi-pencil-square"></i></button>
        <button class="btn btn-sm text-white" id="clear-btn" title="清空聊天"><i class="bi bi-trash3-fill"></i></button>
      </div>
    </div>

    <div id="connection-status" class="connection-status">連線中...</div>
    <div id="chat-messages" class="chat-messages"></div>

        <!-- ====== input ====== -->
    <div class="chat-input">
      <button class="emoji-btn"><i class="bi bi-emoji-smile"></i></button>
      <textarea id="message-input" placeholder="輸入訊息..." autocomplete="off"></textarea>
      <button id="send-button"><i class="bi bi-send-fill"></i></button>
    </div>
  </div>

  <!-- ====== 前端函式庫 ====== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  
   <!-- ====== 導入websocket函式庫 ====== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>

   <!-- javascript檔案 -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>  

</body>
</html>
